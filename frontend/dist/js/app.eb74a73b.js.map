{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Controller/Controller.vue?cb55","webpack:///./src/components/Controller/EditDisplayDialog.vue?34b8","webpack:///./src/components/Plaque/Plaque.vue?3b6c","webpack:///./src/components/Controller/DisplayController.vue?be41","webpack:///./src/App.vue?574a","webpack:///./src/components/Controller/DisplayItem.vue?e716","webpack:///./src/components/Display/Display.vue?45a5","webpack:///./src/components/Controller/TokenItem.vue?04c7","webpack:///./src/App.vue?124b","webpack:///./src/App.vue","webpack:///./src/App.vue?dfb6","webpack:///./src/components/Controller/Controller.vue?1dec","webpack:///./src/composables/web3Interface.ts","webpack:///./src/firebaseConfig.js","webpack:///./src/types/types.ts","webpack:///./src/api/account.ts","webpack:///./src/api/token.ts","webpack:///./src/composables/accountManagement.ts","webpack:///./src/components/Controller/DisplayController.vue?c39c","webpack:///./src/api/display.ts","webpack:///./src/composables/displayManagement.ts","webpack:///./src/components/Controller/EditDisplayDialog.vue?0db8","webpack:///./src/components/Controller/DisplayItem.vue?6974","webpack:///./src/components/Controller/DisplayItem.vue","webpack:///./src/components/Controller/DisplayItem.vue?f566","webpack:///./src/components/Controller/TokenList.vue?9d2c","webpack:///./src/components/Controller/TokenItem.vue?e268","webpack:///./src/components/Controller/TokenItem.vue","webpack:///./src/components/Controller/TokenItem.vue?abc5","webpack:///./src/components/Controller/TokenList.vue","webpack:///./src/components/Controller/TokenList.vue?29f8","webpack:///./src/components/Controller/EditDisplayDialog.vue","webpack:///./src/components/Controller/EditDisplayDialog.vue?ade3","webpack:///./src/components/Controller/DisplayController.vue","webpack:///./src/components/Controller/DisplayController.vue?ef65","webpack:///./src/components/Controller/QrScan.vue?ef7a","webpack:///./src/components/Controller/QrScan.vue","webpack:///./src/components/Controller/QrScan.vue?8503","webpack:///./src/components/Controller/Controller.vue","webpack:///./src/components/Controller/Controller.vue?b4f5","webpack:///./src/components/Display/Display.vue?d266","webpack:///./src/api/local-files.ts","webpack:///./src/components/Display/Display.vue","webpack:///./src/components/Display/Display.vue?6ee8","webpack:///./src/components/Plaque/Plaque.vue?31b0","webpack:///./src/components/Plaque/Plaque.vue","webpack:///./src/components/Plaque/Plaque.vue?8a19","webpack:///./src/router.js","webpack:///./src/store/index.js","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_hoisted_1","id","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_view","__exports__","class","_hoisted_2","_hoisted_3","style","_hoisted_4","_hoisted_5","_component_qr_scan","_component_Button","_component_Chip","_component_Card","_component_DisplayController","store","getters","camera_scan_mode","account_id","account","header","web3_modal","signature","icon","label","loading_account","onClick","connectAccount","content","color","tokens","_","web3Interface","web3","address","setupWeb3Modal","console","log","providerOptions","walletconnect","package","options","infuraId","cacheProvider","disableInjectedProvider","connectWallet","alert","clearCachedProvider","connect","catch","err","error","provider","on","setWeb3Account","eth","getAccounts","web3_account","commit","attemptReverse","getSignature","providers","Web3Provider","currentProvider","lookupAddress","then","ensName","local_signature","localStorage","getItem","plain","msg","utils","asciiToHex","personal","sign","setItem","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","now","firestore","Timestamp","created_at","updated_at","db","getAccountByAddress","collection","where","query_snapshot","docs","map","entity","createAccount","add","createBaseEntity","document","snapshot","updateAccount","doc","update","loadToken","asset_contract_address","token_id","fetch","res","json","res_json","web3_account_id","assets","loadDemoTokenMetas","metas","filter","skip","loadDemoTokenMeta","loadTokensByTokenIDAndAssetContract","url","forEach","substring","loadAndConvertTokenMeta","opensea_only_tokens","platform","opensea_res","converted_tokens","pop","converted","convertTokenMetaToOpensea","asset_contract","description","creator","user","username","tag","image_url","animation_url","image_thumbnail_url","orders","permalink","manageAccounts","loadAccount","account_info","loadTokens","demo_token_metas","_hoisted_6","_component_DisplayItem","_component_EditDisplayDialog","disabled","$event","displays_loaded","displays","display","onEditDisplay","editDisplay","createDisplay","display_id","edit_display_id","code","createDisplayWithListener","onChange","onSnapshot","getDisplaysByAccountIDWithListener","getDisplayByDisplayID","document_snapshot","getDisplayByDisplayIDWithListener","updateDisplay","addAccountToDisplay","displayManagement","loadDisplays","displayArr","nanoid","ret","for","_hoisted_7","_hoisted_8","_hoisted_9","_component_InputText","_component_InputSwitch","_component_display_item","_component_TokenList","_component_TabPanel","_component_TabView","_component_Dialog","visible","modal","$emit","footer","handleSave","default","modelValue","type","openDisplayInBrowser","plaque_dark_mode","forgetDisplay","playlist_tokens","selected_token_id","selected_asset_contract_address","user_tokens","has_image","src","asset_str","props","String","setup","token","demo_token","demo_token_meta","_component_Dropdown","_component_Paginator","_component_TokenItem","tag_filter","tag_filter_options","optionLabel","first","offset","rows","limit","pageLinkSize","totalRecords","total_records","alwaysShow","FirstPageLink","page_tokens","selected","in_playlist","some","selectToken","onTogglePlaylistToken","togglePlaylistToken","token_meta","Boolean","components","TokenItem","Array","emit","demo_page_tokens","filtered_token_metas","token_metas","tag_map","Map","set","tags","from","keys","sort","a","b","page_token_metas","paginated_metas","user_page_tokens","v","immediate","deep","toggle","new_playlist","JSON","parse","stringify","DisplayItem","TokenList","Function","required","shareAndRemember","saved_display_ids","includes","open","location","origin","pathname","ret_display","EditDisplayDialog","_component_loading","_component_qrcode_stream","active","camera_loading","opacity","onDecode","onInit","QrcodeStream","Loading","qr_code_link","display_id_index","indexOf","promise","DisplayController","QrScan","_component_qrcode_vue","loading","media_is_video","show_video","ref","autoplay","muted","loop","video_should_loop","media_url","display_controller_url","size","level","local_file_base_url","getLocalFileURL","file_name","findLocalFile","extensions","e","status","setDefaults","zIndex","QrcodeVue","router","viewer","local_file","player","playlist_timer","is_opensea_video","endsWith","is_alt_video","initDisplay","clearTimeout","Promise","setTimeout","path","query","hide","showToken","contract_address","token_resp","waitToShowVideo","displayImage","nextPlaylistToken","checkInterval","current_play_pos","interval","setInterval","checkBuffering","currentTime","clearInterval","removeEventListener","duration","addEventListener","images","inline","button","navbar","title","toolbar","tooltip","movable","zoomable","rotatable","scalable","transition","fullscreen","keyboard","new_index","findIndex","nft_display_id","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","dark_mode","show_text","top_bid","getPlaqueData","highest_order","base_price","bid","Math","pow","payment_token_contract","decimals","toFixed","symbol","routes","component","Controller","route","Display","Plaque","redirect","createRouter","history","createWebHashHistory","createStore","state","demo_tokens","find","mutations","setAddress","setAccount","setTokens","setDemoTokens","setDemoTokenMetas","setCameraScanMode","show","app","App","use","mount"],"mappings":"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","file":"js/app.eb74a73b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/nft-viewer/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Controller.vue?vue&type=style&index=0&id=8498177e&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditDisplayDialog.vue?vue&type=style&index=0&id=47c6f7a6&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Plaque.vue?vue&type=style&index=0&id=232405ed&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DisplayController.vue?vue&type=style&index=0&id=1f55767c&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=534269e0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DisplayItem.vue?vue&type=style&index=0&id=8892b27c&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Display.vue?vue&type=style&index=0&id=299eb34d&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TokenItem.vue?vue&type=style&index=0&id=37fbbc14&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"app\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_router_view)\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"App\",\n});\n","import { render } from \"./App.vue?vue&type=template&id=534269e0&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=534269e0&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8498177e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"p-d-flex p-ai-center p-px-3\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Wallet\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\"} }, null, -1))\nconst _hoisted_4 = { class: \"p-d-flex p-jc-around\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"p-mt-4\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_qr_scan = _resolveComponent(\"qr-scan\")!\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_Chip = _resolveComponent(\"Chip\")!\n  const _component_Card = _resolveComponent(\"Card\")!\n  const _component_DisplayController = _resolveComponent(\"DisplayController\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.store.getters.camera_scan_mode)\n      ? (_openBlock(), _createBlock(_component_qr_scan, {\n          key: 0,\n          account_id: _ctx.account?.id\n        }, null, 8, [\"account_id\"]))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"div\", null, [\n      _createVNode(_component_Card, {\n        class: \"controller-card\",\n        style: {\"margin-top\":\"20px\"}\n      }, {\n        header: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _hoisted_2,\n            _hoisted_3,\n            (!(_ctx.web3_modal && _ctx.signature && _ctx.account))\n              ? (_openBlock(), _createBlock(_component_Button, {\n                  key: 0,\n                  label: \"Connect\",\n                  icon: _ctx.loading_account ? 'pi pi-spin pi-spinner' : 'pi pi-wifi',\n                  onClick: _ctx.connectAccount\n                }, null, 8, [\"icon\", \"onClick\"]))\n              : (_openBlock(), _createBlock(_component_Button, {\n                  key: 1,\n                  class: \"p-button-text\",\n                  icon: \"pi pi-check\",\n                  label: \"Connected\"\n                }))\n          ])\n        ]),\n        content: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_Chip, {\n              label: \"Web3\",\n              icon: _ctx.web3_modal ? 'pi pi-check' : 'pi pi-times',\n              style: _normalizeStyle({color: _ctx.web3_modal ? '#4CAF50' : '#F44336'})\n            }, null, 8, [\"icon\", \"style\"]),\n            _createVNode(_component_Chip, {\n              label: \"Metamask\",\n              icon: _ctx.signature ? 'pi pi-check' : 'pi pi-times',\n              style: _normalizeStyle({color: _ctx.signature ? '#4CAF50' : '#F44336'})\n            }, null, 8, [\"icon\", \"style\"]),\n            _createVNode(_component_Chip, {\n              label: \"Moda Archives\",\n              icon: _ctx.account ? 'pi pi-check' : 'pi pi-times',\n              style: _normalizeStyle({color: _ctx.account ? '#4CAF50' : '#F44336'})\n            }, null, 8, [\"icon\", \"style\"])\n          ]),\n          (_ctx.tokens)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _toDisplayString(`${_ctx.tokens.length} token${_ctx.tokens.length == 1 ? '' : 's'} loaded from OpenSea.`), 1))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_DisplayController, {\n        account_id: _ctx.account?.id\n      }, null, 8, [\"account_id\"])\n    ], 512), [\n      [_vShow, !_ctx.store.getters.camera_scan_mode]\n    ])\n  ], 64))\n}","import Web3 from \"web3\";\nimport Web3Modal from \"web3modal\";\nimport { ethers } from \"ethers\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { ref } from 'vue'\nimport { useStore } from \"vuex\";\nimport Fortmatic from \"fortmatic\";\n\n\nexport default function web3Interface() {\n  let web3: Web3;\n  const web3_modal = ref<Web3Modal>();\n  const address = ref(\"\");\n  const signature = ref(\"\");\n  const store = useStore();\n\n  const setupWeb3Modal = () => {\n    console.log(\"setup v3 modal...\");\n    /* if(location.protocol !== \"https:\") {\n      console.error(\"must use https\");\n      return;\n    } */\n    return web3_modal.value = new Web3Modal({\n      providerOptions: {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId: \"e132974b42d54791bd631e7bcd88572b\", // infura.io Mainnet endpoint\n          },\n        },\n        /*\n        fortmatic: {\n          package: Fortmatic,\n          options: {\n            // Mikko's TESTNET api key\n            key: \"pk_test_391E26A3B43A3350\"\n          }\n        } */\n      },\n      cacheProvider: true,\n      disableInjectedProvider: false,\n    });\n  };\n  const connectWallet = async () => {\n    console.log(\"connecting wallet...\");\n    if (!web3_modal.value) {\n      alert(\"Tried to connect wallet but web3 modal not loaded!\")\n      return\n    }\n\n    web3_modal.value.clearCachedProvider();\n    const provider = await web3_modal?.value?.connect().catch((err) => {\n      console.error(err);\n    });\n    console.log(\"AFTER CONNECT\", provider)\n\n    // Subscribe to accounts change\n    provider.on(\"accountsChanged\", () => {\n      setWeb3Account(provider);\n    });\n\n    // Subscribe to chainId change\n    provider.on(\"chainChanged\", () => {\n      setWeb3Account(provider);\n    });\n\n    // Subscribe to networkId change\n    provider.on(\"networkChanged\", () => {\n      setWeb3Account(provider);\n    });\n\n    return setWeb3Account(provider);\n  };\n  const setWeb3Account = async (provider: any) => {\n    console.log(\"setWeb3Account\", provider)\n    web3 = new Web3(provider);\n    const web3_account = (await web3.eth.getAccounts())[0];\n    address.value = web3_account;\n    store.commit(\"setAddress\", web3_account);\n    attemptReverse();\n    return getSignature();\n  };\n  const attemptReverse = async () => {\n    const provider = new ethers.providers.Web3Provider(\n      web3.currentProvider as ethers.providers.ExternalProvider\n    );\n    provider.lookupAddress(address.value).then((ensName) => {\n      if (ensName != null) {\n        address.value = ensName;\n      }\n    });\n  };\n  const getSignature = async () => {\n    const local_signature = window.localStorage.getItem(\"web3_signature\")\n    if (local_signature) {\n      signature.value = local_signature;\n      return;\n    }\n    const plain =\n      \"NFT Viewer - proof of ownership. Please sign this message to prove ownership over your Ethereum account.\";\n    const msg = web3.utils.asciiToHex(plain);\n\n    signature.value = await web3.eth.personal.sign(msg, address.value, \"\");\n    window.localStorage.setItem(\"web3_signature\", signature.value);\n  };\n\n\n  return {\n    setupWeb3Modal,\n    connectWallet,\n    signature,\n    address,\n    web3_modal\n  };\n}","// src/firebaseConfig.js\nimport firebase from \"firebase/app\";\nimport '@firebase/storage';\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAdu0sAk8jWlbjGyqHpULmu4E8modXob_8\",\n  authDomain: \"nft-viewer.firebaseapp.com\",\n  projectId: \"nft-viewer\",\n  storageBucket: \"nft-viewer.appspot.com\",\n  messagingSenderId: \"680051604339\",\n  appId: \"1:680051604339:web:aa0793be255390e752e306\",\n  measurementId: \"G-8PLTH0Z68H\"\n};\n\n// Initialize Firebase\nexport default firebase.initializeApp(firebaseConfig);","import firebase from \"firebase\";\n\nexport interface BaseDocument {\n    created_at: firebase.firestore.Timestamp;\n    updated_at: firebase.firestore.Timestamp;\n}\n\nexport class BaseEntity {\n\n    static createBaseEntity(): BaseDocument {\n        const now = firebase.firestore.Timestamp.now();\n\n        return { created_at: now, updated_at: now };\n    }\n\n    static updateBaseEntity(): Partial<BaseDocument> {\n        const now = firebase.firestore.Timestamp.now();\n\n        return { updated_at: now }\n    }\n}\n\nexport interface FirestoreDocument<Entity extends BaseDocument> {\n    entity: Entity;\n    id: string;\n}\n\nexport interface Account extends BaseDocument {\n    address: string;\n    signature: string; \n    admin: boolean;\n    saved_display_ids: Array<string>; // if user is an admin, devices can be saved here and remembered even if another user has assumed control of the device\n}\n\nexport interface Display extends BaseDocument {\n    account_id: string;\n    name: string;\n    code: string;\n    asset_contract_address: string;\n    token_id: string;\n    plaque_dark_mode: boolean;\n    playlist_tokens: Array<TokenIDPair>;\n}\n\nexport interface OpenseaToken {\n    image_url: string;\n    image_thumbnail_url: string;\n    animation_url: string;\n    name: string;\n    asset_contract: AssetContract;\n    token_id: string;\n    description: string;\n    permalink: string;\n    creator: any;\n    orders: Array<any>;\n}\n\nexport interface AssetContract {\n    address: string;\n}\n\nexport interface TokenMeta extends BaseDocument {\n    token_id: string;\n    asset_contract_address: string;\n    tag: string;\n    name: string;\n    platform: string;\n    public_link: string;\n    description: string;\n    skip: boolean;\n    // created_at: string;\n}\n\nexport interface TokenIDPair {\n    token_id: string;\n    asset_contract_address: string;\n}\n\nexport interface DropdownOption {\n\tname: string;\n    value: string;\n}","import firebase from \"../firebaseConfig\";\nimport { FirestoreDocument, Account, BaseEntity } from \"../types/types\"\nconst db = firebase.firestore();\n\n// returns a list of all accounts that match the given address (should only have 1 or 0 results unless something else has gone wrong)\nexport const getAccountByAddress = async (address: string): Promise<Array<FirestoreDocument<Account>>> => {\n    const query_snapshot = await db.collection(\"account\").where(\"address\", \"==\", address).get();\n    return query_snapshot.docs.map(s => ({\n        id: s.id, entity: s.data() as Account,\n    }))\n};\n\n// creates a new account record in the database and returns it\nexport const createAccount = async (address: string, signature: string): Promise<FirestoreDocument<Account>> => {\n    const document = await db.collection(\"account\")\n        .add({\n            ...BaseEntity.createBaseEntity(),\n            address,\n            signature\n        })\n    const snapshot = await document.get()\n    return { id: snapshot.id, entity: snapshot.data() as Account }\n}\n\nexport const updateAccount = async (account: FirestoreDocument<Account>): Promise<FirestoreDocument<Account>> => {\n    await db.collection(\"account\").doc(account.id).update(account.entity)\n    const snapshot = await db.collection(\"account\").doc(account.id).get()\n    return { id: snapshot.id, entity: snapshot.data() as Account }\n}\n","import { TokenMeta, FirestoreDocument, OpenseaToken } from \"../types/types\"\nimport firebase from \"../firebaseConfig\";\n\nconst db = firebase.firestore();\n\nexport const loadToken = async (asset_contract_address: string, token_id: string): Promise<OpenseaToken> => {\n    const res = await fetch(`https://api.opensea.io/api/v1/asset/${asset_contract_address}/${token_id}?include_orders=true`)\n    const res_json = await res.json()\n    return res_json;\n}\n\n// returns all tokens associated with this web3 account\nexport const loadTokens = async (web3_account_id: string): Promise<Array<OpenseaToken>> => {\n    const res = await fetch(`https://api.opensea.io/api/v1/assets/?owner=${web3_account_id}`);\n    const res_json = await res.json();\n\n    return res_json.assets;\n}\n\n// loadDemoTokenMetas returns a list of demo tokens which all controllers have access to\nexport const loadDemoTokenMetas = async (): Promise<Array<FirestoreDocument<TokenMeta>>> => {\n    const query_snapshot = await db.collection(\"demo_tokens\").get();\n    const metas = query_snapshot.docs.map(s => ({\n        id: s.id, entity: s.data() as TokenMeta,\n    }))\n    return metas.filter(m => m.entity.token_id && m.entity.asset_contract_address && !m.entity.skip)\n}\n\n// loadDemoTokenMeta returns a single demo token meta for a given asset_contract and token id\nexport const loadDemoTokenMeta = async (asset_contract_address: string, token_id: string): Promise<FirestoreDocument<TokenMeta>> => {\n    const query_snapshot = await db.collection(\"demo_tokens\").where(\"asset_contract_address\", \"==\", asset_contract_address).where(\"token_id\", \"==\", token_id).get()\n    if(query_snapshot.docs.length != 1) {\n        throw \"Error - got duplicate token metas\"\n    }\n    const doc = query_snapshot.docs[0]\n    return {\n        id: doc.id, entity: doc.data() as TokenMeta,\n    }\n}\n\nexport const loadTokensByTokenIDAndAssetContract = async (tokens: Array<FirestoreDocument<TokenMeta>>): Promise<Array<OpenseaToken>> => {\n    let url = `https://api.opensea.io/api/v1/assets/?`\n    tokens.forEach(t => {\n        url += `asset_contract_addresses=${t.entity.asset_contract_address}&token_ids=${t.entity.token_id}&`\n    })\n\n    url = url.substring(0, url.length - 1)\n\n    const res = await fetch(url);\n    const res_json = await res.json();\n\n    return res_json.assets;\n}\n\n// loadAndConvertTokenMeta will take a list of token metas, fetching their data from respective apis (opensea), otherwise using local data on the meta\nexport const loadAndConvertTokenMeta = async (tokens: Array<FirestoreDocument<TokenMeta>>): Promise<Array<OpenseaToken>> => {\n    const opensea_only_tokens: Array<FirestoreDocument<TokenMeta>> = [];\n    for (let i = 0; i < tokens.length; i++) {\n        if (tokens[i].entity.platform == \"opensea\") {\n            opensea_only_tokens.push(tokens[i])\n        }\n    }\n    const opensea_res = await loadTokensByTokenIDAndAssetContract(opensea_only_tokens)\n    const converted_tokens: Array<OpenseaToken> = [];\n    for (let i = 0; i < tokens.length; i++) {\n        const t = tokens[i]\n        // if token is opensea, add from api response\n        if (tokens[i].entity.platform == \"opensea\") {\n            const pop = opensea_res.shift()\n            if (pop) {\n                converted_tokens.push(pop)\n            }\n        } else { // otherwise convert token meta to a similar format\n            const converted: OpenseaToken = convertTokenMetaToOpensea(t)\n            converted_tokens.push(converted)\n        }\n    }\n    return converted_tokens\n}\n\n// convertTokenMetaToOpensea will convert a token meta to the OpenseaToken format\nexport const convertTokenMetaToOpensea = (t: FirestoreDocument<TokenMeta>): OpenseaToken => {\n    return {\n        name: t.entity.name,\n        asset_contract: { address: t.entity.asset_contract_address },\n        token_id: t.entity.token_id,\n        description: t.entity.description,\n        creator: { user: { username: t.entity.tag } },\n        image_url: \"\",\n        animation_url: \"\",\n        image_thumbnail_url: \"\",\n        orders: [],\n        permalink: \"\"\n    }\n}\n\n\n\n// loadArchiveMedia loads file url from firebase storage, returning null if not found\nexport const loadArchiveMedia = async (file_name: string): Promise<string | null> => {\n    return firebase.storage().ref().child(file_name).getDownloadURL().catch(() => {\n        return null\n    })\n}","import { ref } from 'vue'\nimport { FirestoreDocument, Account, OpenseaToken } from \"../types/types\";\nimport * as account_api from \"../api/account\";\nimport * as token_api from \"../api/token\";\nimport { useStore } from \"vuex\";\n\nexport default function manageAccounts() {\n    const loading_account = ref(false)\n    const account = ref<FirestoreDocument<Account> | null>()\n    const tokens = ref<Array<OpenseaToken>>()\n\n    const store = useStore();\n    // gets account for address, creating if it does not exist\n    const loadAccount = async (address: string, signature: string) => {\n        loading_account.value = true\n        const account_info = await account_api.getAccountByAddress(address)\n\n        if (account_info.length > 0) {\n            account.value = account_info[0]\n        } else {\n            // create new account if one was not found in the database\n            console.log(\"creating account since none exist in the database...\");\n            account.value = await account_api.createAccount(address, signature);\n        } \n\n        store.commit(\"setAccount\", account.value);\n\n        loading_account.value = false\n    };\n\n    const loadTokens = async (address: string) => {\n        tokens.value = await token_api.loadTokens(address)\n        store.commit(\"setTokens\", tokens.value)\n        const demo_token_metas  = await token_api.loadDemoTokenMetas();\n        store.commit(\"setDemoTokenMetas\", demo_token_metas)\n        /* const demo_tokens = await token_api.loadTokensByTokenIDAndAssetContract(demo_token_ids.map(t => t.entity))\n        store.commit(\"setDemoTokens\", demo_tokens) */\n    }\n\n    return { account, loading_account, tokens, loadAccount, loadTokens }\n}","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1f55767c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"p-d-flex p-ai-center p-px-3\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Displays\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\"} }, null, -1))\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = {\n  key: 1,\n  class: \"p-d-flex p-flex-wrap\"\n}\nconst _hoisted_6 = { key: 2 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_DisplayItem = _resolveComponent(\"DisplayItem\")!\n  const _component_EditDisplayDialog = _resolveComponent(\"EditDisplayDialog\")!\n  const _component_Card = _resolveComponent(\"Card\")!\n\n  return (_openBlock(), _createBlock(_component_Card, { class: \"controller-card\" }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _hoisted_3,\n        _createVNode(_component_Button, {\n          label: \"Scan display\",\n          icon: \"pi pi-camera\",\n          disabled: !_ctx.account_id,\n          style: {\"height\":\"0%\"},\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.store.commit('setCameraScanMode', true)))\n        }, null, 8, [\"disabled\"])\n      ])\n    ]),\n    content: _withCtx(() => [\n      (!_ctx.displays_loaded)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"Connect an account to load your displays\"))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.displays, (display) => {\n              return (_openBlock(), _createBlock(_component_DisplayItem, {\n                key: display.id,\n                name: display.entity.name,\n                token_id: display.entity.token_id,\n                asset_contract_address: display.entity.asset_contract_address,\n                onEditDisplay: ($event: any) => (_ctx.editDisplay(display.id))\n              }, null, 8, [\"name\", \"token_id\", \"asset_contract_address\", \"onEditDisplay\"]))\n            }), 128))\n          ])),\n      (_ctx.displays_loaded && _ctx.displays.length == 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"No displays found\"))\n        : _createCommentVNode(\"\", true),\n      (_ctx.account_id)\n        ? (_openBlock(), _createBlock(_component_EditDisplayDialog, {\n            key: 3,\n            createDisplay: _ctx.createDisplay,\n            account_id: _ctx.account_id,\n            display_id: _ctx.edit_display_id,\n            \"onUpdate:display_id\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.edit_display_id) = $event))\n          }, null, 8, [\"createDisplay\", \"account_id\", \"display_id\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}","import firebase from \"../firebaseConfig\";\nimport { FirestoreDocument, BaseEntity, Display } from \"../types/types\"\n\nconst db = firebase.firestore();\n\n// creates a new display and returns it\nexport const createDisplay = async (account_id: string, name: string, code: string): Promise<FirestoreDocument<Display>> => {\n    const document = await db.collection(\"display\").add({\n        ...BaseEntity.createBaseEntity(),\n        account_id,\n        name,\n        code\n    })\n    const snapshot = await document.get()\n    return { id: snapshot.id, entity: snapshot.data() as Display }\n}\n\nexport const createDisplayWithListener = async (account_id: string, name: string, code: string, onChange: (doc: FirestoreDocument<Display>) => void) => {\n    const document = await db.collection(\"display\").add({\n        ...BaseEntity.createBaseEntity(),\n        account_id,\n        name,\n        code\n    })\n    document.onSnapshot((doc) => {\n        onChange({ id: doc.id, entity: doc.data() as Display })\n    })\n}\n\n// returns a list of all accounts that match the (should only have 1 or 0 results unless something else has gone wrong)\nexport const getDisplaysByAccountID = async (account_id: string): Promise<Array<FirestoreDocument<Display>>> => {\n    const query_snapshot = await db.collection(\"display\").where(\"account_id\", \"==\", account_id).get();\n    return query_snapshot.docs.map(s => ({\n        id: s.id, entity: s.data() as Display,\n    }))\n};\n\nexport const getDisplaysByAccountIDWithListener = async (account_id: string, onChange: (arr: Array<FirestoreDocument<Display>>) => void) => {\n    await db.collection(\"display\").where(\"account_id\", \"==\", account_id).onSnapshot(snapshot => {\n        onChange(snapshot.docs.map( d => ({id: d.id, entity: d.data() as Display})))\n    })\n};\n\nexport const getDisplayByDisplayID = async (display_id: string): Promise<FirestoreDocument<Display>> => {\n    const document_snapshot = await db.collection(\"display\").doc(display_id).get()\n    return { id: document_snapshot.id, entity: document_snapshot.data() as Display };\n}\n\nexport const getDisplayByDisplayIDWithListener = async (display_id: string, onChange: (doc: FirestoreDocument<Display>) => void) => {\n    db.collection(\"display\").doc(display_id).onSnapshot((doc) => {\n        onChange({ id: doc.id, entity: doc.data() as Display });\n    })\n}\n\nexport const updateDisplay = async (display: FirestoreDocument<Display>): Promise<FirestoreDocument<Display>> => {\n    await db.collection(\"display\").doc(display.id).update(display.entity)\n    const snapshot = await db.collection(\"display\").doc(display.id).get()\n    return { id: snapshot.id, entity: snapshot.data() as Display }\n}\n\nexport const addAccountToDisplay = async(display_id: string, account_id: string): Promise<FirestoreDocument<Display>> => {\n    await db.collection(\"display\").doc(display_id).update({account_id})\n    const snapshot = await db.collection(\"display\").doc(display_id).get()\n    return { id: snapshot.id, entity: snapshot.data() as Display }\n}","import { ref } from 'vue'\nimport { FirestoreDocument, Display } from '@/types/types'\nimport * as display_api from \"../api/display\";\nimport { customAlphabet } from 'nanoid';\n\nexport default function displayManagement() {\n    const displays = ref<Array<FirestoreDocument<Display>>>([])\n    const displays_loaded = ref(false)\n\n    // loads saved displays for an account_id and sets the state\n    const loadDisplays = async (account_id: string) => {\n        return display_api.getDisplaysByAccountIDWithListener(account_id, (displayArr: Array<FirestoreDocument<Display>>) => {\n            displays.value = displayArr\n            displays_loaded.value = true;\n        }).catch(alert)\n    }\n    const createDisplay = async (account_id: string, name: string) => {\n        const nanoid = customAlphabet(\"1234567890\", 6)\n        const code = nanoid()\n        const ret = await display_api.createDisplay(account_id, name, code).catch(alert)\n        if (ret) {\n            displays.value.push(ret);\n        }\n    }\n\n    return { displays, displays_loaded, loadDisplays, createDisplay }\n}","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-47c6f7a6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"New Display\")\nconst _hoisted_2 = {\n  class: \"p-grid\",\n  style: {\"flex-wrap\":\"nowrap\"}\n}\nconst _hoisted_3 = { class: \"p-col\" }\nconst _hoisted_4 = {\n  class: \"p-float-label\",\n  style: {\"margin-top\":\"20px\"}\n}\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"name\" }, \"Name\", -1))\nconst _hoisted_6 = {\n  class: \"p-mt-2\",\n  style: {\"display\":\"flex\",\"align-items\":\"center\"}\n}\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" Plaque dark mode \")\nconst _hoisted_8 = { class: \"p-col\" }\nconst _hoisted_9 = { style: {\"display\":\"flex\",\"align-items\":\"center\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_InputText = _resolveComponent(\"InputText\")!\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_InputSwitch = _resolveComponent(\"InputSwitch\")!\n  const _component_display_item = _resolveComponent(\"display-item\")!\n  const _component_TokenList = _resolveComponent(\"TokenList\")!\n  const _component_TabPanel = _resolveComponent(\"TabPanel\")!\n  const _component_TabView = _resolveComponent(\"TabView\")!\n  const _component_Dialog = _resolveComponent(\"Dialog\")!\n\n  return (_openBlock(), _createBlock(_component_Dialog, {\n    header: \"Header\",\n    visible: _ctx.display_id != null,\n    modal: true,\n    \"onUpdate:visible\": _cache[10] || (_cache[10] = ($event: any) => (_ctx.$emit('update:display_id', null))),\n    style: {\"width\":\"100%\",\"max-width\":\"700px\",\"max-height\":\"100%\"}\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    footer: _withCtx(() => [\n      _createVNode(_component_Button, {\n        label: \"Save\",\n        onClick: _ctx.handleSave\n      }, null, 8, [\"onClick\"]),\n      _createVNode(_component_Button, {\n        class: \"p-button-text\",\n        label: \"Cancel\",\n        onClick: _cache[9] || (_cache[9] = ($event: any) => (_ctx.$emit('update:display_id', null)))\n      })\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"span\", _hoisted_4, [\n            _createVNode(_component_InputText, {\n              id: \"name\",\n              modelValue: _ctx.display.entity.name,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.display.entity.name) = $event)),\n              type: \"text\",\n              style: {\"margin\":\"0 auto\",\"max-width\":\"150px\"}\n            }, null, 8, [\"modelValue\"]),\n            _hoisted_5\n          ]),\n          _createVNode(_component_Button, {\n            class: \"p-button-sm p-mt-2\",\n            label: \"Open in browser\",\n            onClick: _ctx.openDisplayInBrowser,\n            style: {\"display\":\"block\"}\n          }, null, 8, [\"onClick\"]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_InputSwitch, {\n              modelValue: _ctx.display.entity.plaque_dark_mode,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.display.entity.plaque_dark_mode) = $event)),\n              class: \"p-mr-2\"\n            }, null, 8, [\"modelValue\"]),\n            _hoisted_7\n          ]),\n          _createVNode(_component_Button, {\n            class: \"p-button-danger p-button-sm p-mt-2\",\n            label: \"Forget display\",\n            onClick: _ctx.forgetDisplay,\n            style: {\"display\":\"block\"}\n          }, null, 8, [\"onClick\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createVNode(_component_display_item, {\n            name: _ctx.display.entity.name,\n            token_id: _ctx.display.entity.token_id,\n            asset_contract_address: _ctx.display.entity.asset_contract_address\n          }, null, 8, [\"name\", \"token_id\", \"asset_contract_address\"]),\n          _createElementVNode(\"div\", _hoisted_9, [\n            _createTextVNode(_toDisplayString(`${_ctx.display?.entity?.playlist_tokens?.length || 0} token${_ctx.display?.entity?.playlist_tokens?.length == 1 ? '' : 's'} in playlist`) + \" \", 1),\n            _createVNode(_component_Button, {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.display.entity.playlist_tokens = [])),\n              icon: \"pi pi-times\",\n              class: \"p-ml-2 p-button-rounded\"\n            })\n          ])\n        ])\n      ]),\n      _createVNode(_component_TabView, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_TabPanel, { header: \"Demo tokens\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_TokenList, {\n                selected_token_id: _ctx.display.entity.token_id,\n                \"onUpdate:selected_token_id\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.display.entity.token_id) = $event)),\n                selected_asset_contract_address: _ctx.display.entity.asset_contract_address,\n                \"onUpdate:selected_asset_contract_address\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.display.entity.asset_contract_address) = $event)),\n                playlist_tokens: _ctx.display.entity.playlist_tokens,\n                \"onUpdate:playlist_tokens\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.display.entity.playlist_tokens) = $event))\n              }, null, 8, [\"selected_token_id\", \"selected_asset_contract_address\", \"playlist_tokens\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_TabPanel, { header: \"My tokens\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_TokenList, {\n                selected_token_id: _ctx.display.entity.token_id,\n                \"onUpdate:selected_token_id\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.display.entity.token_id) = $event)),\n                selected_asset_contract_address: _ctx.display.entity.asset_contract_address,\n                \"onUpdate:selected_asset_contract_address\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.display.entity.asset_contract_address) = $event)),\n                playlist_tokens: _ctx.display.entity.playlist_tokens,\n                \"onUpdate:playlist_tokens\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.display.entity.playlist_tokens) = $event)),\n                user_tokens: true\n              }, null, 8, [\"selected_token_id\", \"selected_asset_contract_address\", \"playlist_tokens\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"visible\"]))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8892b27c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = { class: \"p-text-bold\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Card = _resolveComponent(\"Card\")!\n\n  return (_openBlock(), _createBlock(_component_Card, {\n    class: \"p-m-2\",\n    style: {\"width\":\"130px\",\"padding\":\"0px\",\"text-align\":\"center\"},\n    onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('editDisplay')))\n  }, {\n    content: _withCtx(() => [\n      (_ctx.has_image)\n        ? (_openBlock(), _createElementBlock(\"img\", {\n            key: 0,\n            src: _ctx.asset_str,\n            style: {\"height\":\"50px\"}\n          }, null, 8, _hoisted_1))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(_ctx.asset_str), 1))\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_3, _toDisplayString(_ctx.name), 1)\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent, computed } from \"vue\";\nimport { TokenMeta, FirestoreDocument} from \"@/types/types\";\nimport { useStore } from \"vuex\";\n\nexport default defineComponent({\n  props: {\n    name: String,\n    asset_contract_address: String,\n    token_id: String\n  },\n  setup(props) {\n    const store = useStore();\n    const has_image = computed(() => {\n      return !!store.getters.token(props.token_id);\n    })\n    const asset_str = computed(() => {\n      const token = store.getters.token(props.token_id);\n      if (token) {\n        return token.image_thumbnail_url;\n      }\n      const demo_token: FirestoreDocument<TokenMeta> = store.getters.demo_token_meta(\n        props.asset_contract_address,\n        props.token_id\n      );\n      if (demo_token) {\n        return `${demo_token.entity.name} - ${demo_token.entity.tag}`;\n      }\n      return \"No token\";\n    });\n    return { asset_str, has_image};\n  }\n});\n","import { render } from \"./DisplayItem.vue?vue&type=template&id=8892b27c&scoped=true&ts=true\"\nimport script from \"./DisplayItem.vue?vue&type=script&lang=ts\"\nexport * from \"./DisplayItem.vue?vue&type=script&lang=ts\"\n\nimport \"./DisplayItem.vue?vue&type=style&index=0&id=8892b27c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8892b27c\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"p-mt-2\" }\nconst _hoisted_2 = { style: {\"display\":\"flex\",\"justify-content\":\"space-between\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Dropdown = _resolveComponent(\"Dropdown\")!\n  const _component_Paginator = _resolveComponent(\"Paginator\")!\n  const _component_TokenItem = _resolveComponent(\"TokenItem\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (!_ctx.user_tokens)\n        ? (_openBlock(), _createBlock(_component_Dropdown, {\n            key: 0,\n            modelValue: _ctx.tag_filter,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.tag_filter) = $event)),\n            options: _ctx.tag_filter_options,\n            optionLabel: \"name\"\n          }, null, 8, [\"modelValue\", \"options\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_Paginator, {\n        first: _ctx.offset,\n        \"onUpdate:first\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.offset) = $event)),\n        rows: _ctx.limit,\n        pageLinkSize: 3,\n        totalRecords: _ctx.total_records,\n        alwaysShow: false,\n        class: \"p-p-0\"\n      }, {\n        FirstPageLink: _withCtx(() => []),\n        _: 1\n      }, 8, [\"first\", \"rows\", \"totalRecords\"])\n    ]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.page_tokens, (token) => {\n      return (_openBlock(), _createBlock(_component_TokenItem, {\n        key: token.name,\n        token: token,\n        selected: token.asset_contract.address == _ctx.selected_asset_contract_address && token.token_id == _ctx.selected_token_id,\n        in_playlist: _ctx.playlist_tokens.some(t => t.asset_contract_address == token.asset_contract.address && t.token_id == token.token_id),\n        onClick: ($event: any) => (_ctx.selectToken(token.asset_contract.address, token.token_id)),\n        onTogglePlaylistToken: ($event: any) => (_ctx.togglePlaylistToken(token, $event))\n      }, null, 8, [\"token\", \"selected\", \"in_playlist\", \"onClick\", \"onTogglePlaylistToken\"]))\n    }), 128))\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withModifiers as _withModifiers, createBlock as _createBlock, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-37fbbc14\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"p-grid\" }\nconst _hoisted_2 = {\n  class: \"p-col-6\",\n  style: {\"margin\":\"auto\",\"text-align\":\"left\",\"padding-left\":\"20px\"}\n}\nconst _hoisted_3 = { class: \"p-col-4\" }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Local only\")\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = {\n  class: \"p-col-2\",\n  style: {\"margin\":\"auto\"}\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_Card = _resolveComponent(\"Card\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_component_Card, {\n      style: _normalizeStyle(_ctx.selected ? 'border-style: solid; -webkit-box-sizing: border-box;' : '')\n    }, {\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", null, _toDisplayString(_ctx.token?.name), 1),\n            _createElementVNode(\"div\", null, _toDisplayString(_ctx.token_meta?.entity?.tag), 1)\n          ]),\n          _createElementVNode(\"div\", _hoisted_3, [\n            (_ctx.token_meta?.entity && _ctx.token_meta?.entity?.platform != 'opensea')\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                  _hoisted_4\n                ], 64))\n              : (_openBlock(), _createElementBlock(\"img\", {\n                  key: 1,\n                  src: _ctx.token?.image_thumbnail_url,\n                  style: {\"height\":\"50px\"}\n                }, null, 8, _hoisted_5))\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            (_ctx.in_playlist)\n              ? (_openBlock(), _createBlock(_component_Button, {\n                  key: 0,\n                  class: \"p-button-text\",\n                  icon: \"pi pi-list\",\n                  style: {color: '#000000'},\n                  onClick: _cache[0] || (_cache[0] = _withModifiers(($event: any) => (_ctx.$emit(\"togglePlaylistToken\", false)), [\"stop\"]))\n                }))\n              : (_openBlock(), _createBlock(_component_Button, {\n                  key: 1,\n                  class: \"p-button-text\",\n                  icon: \"pi pi-plus\",\n                  onClick: _cache[1] || (_cache[1] = _withModifiers(($event: any) => (_ctx.$emit(\"togglePlaylistToken\", true)), [\"stop\"]))\n                }))\n          ])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"style\"])\n  ]))\n}","\nimport { defineComponent, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { OpenseaToken, TokenMeta, FirestoreDocument } from \"../../types/types\";\nexport default defineComponent({\n  props: {\n    token: Object as () => OpenseaToken,\n    selected: Boolean,\n    in_playlist: Boolean\n  },\n  setup(props) {\n    const store = useStore();\n    const token_meta = computed(\n      (): FirestoreDocument<TokenMeta> => {\n        return store.getters.demo_token_meta(\n          props.token?.asset_contract.address,\n          props.token?.token_id\n        );\n      }\n    );\n    return { token_meta };\n  }\n});\n","import { render } from \"./TokenItem.vue?vue&type=template&id=37fbbc14&scoped=true&ts=true\"\nimport script from \"./TokenItem.vue?vue&type=script&lang=ts\"\nexport * from \"./TokenItem.vue?vue&type=script&lang=ts\"\n\nimport \"./TokenItem.vue?vue&type=style&index=0&id=37fbbc14&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37fbbc14\"]])\n\nexport default __exports__","\nimport { defineComponent, ref, computed, watch, PropType } from \"vue\";\nimport { useStore } from \"vuex\";\nimport {\n  OpenseaToken,\n  TokenIDPair,\n  FirestoreDocument,\n  TokenMeta,\n  DropdownOption\n} from \"@/types/types\";\nimport TokenItem from \"@/components/Controller/TokenItem.vue\";\nimport { loadAndConvertTokenMeta } from \"@/api/token\";\nexport default defineComponent({\n  components: { TokenItem },\n  props: {\n    selected_token_id: String,\n    selected_asset_contract_address: String,\n    playlist_tokens: {\n      type: Array as PropType<Array<TokenIDPair>>,\n      default: () => []\n    },\n    user_tokens: Boolean\n  },\n  setup(props, { emit }) {\n    const store = useStore();\n    const demo_page_tokens = ref<Array<OpenseaToken>>([]);\n    const limit = 10;\n    const offset = ref(0);\n    const tag_filter = ref<DropdownOption>({ name: \"All\", value: \"All\" });\n\n    const filtered_token_metas = computed(\n      (): Array<FirestoreDocument<TokenMeta>> => {\n        let token_metas: Array<FirestoreDocument<TokenMeta>> =\n          store.getters.demo_token_metas;\n        if (!props.user_tokens && tag_filter.value.value != \"All\") {\n          token_metas = token_metas.filter(m => {\n            return m.entity.tag == tag_filter.value.value;\n          });\n        }\n        return token_metas;\n      }\n    );\n\n    const tag_filter_options = computed(\n      (): Array<DropdownOption> => {\n        let tag_map = new Map<string, boolean>();\n        store.getters.demo_token_metas.forEach(\n          (m: FirestoreDocument<TokenMeta>) => {\n            if (m.entity.tag) {\n              tag_map.set(m.entity.tag, true);\n            }\n          }\n        );\n        let tags: Array<DropdownOption> = Array.from(\n          tag_map.keys()\n        ).map(t => ({ name: t, value: t }));\n\n        tags.sort((a, b) => {\n          if (a.value < b.value) {\n            return -1\n          } else if (a.value > b.value) {\n            return 1\n          }\n          return 0\n        })\n        return [{ name: \"All\", value: \"All\" }, ...tags];\n      }\n    );\n\n    const page_token_metas = computed(() => {\n      const paginated_metas = filtered_token_metas.value.slice(\n        offset.value,\n        limit + offset.value\n      );\n      return paginated_metas;\n    });\n\n    const user_page_tokens = computed(() => {\n      const user_tokens = store.getters.tokens.slice(\n        offset.value,\n        limit + offset.value\n      );\n      return user_tokens;\n    });\n\n    const page_tokens = computed(\n      (): Array<OpenseaToken> => {\n        if (props.user_tokens) {\n          return user_page_tokens.value;\n        }\n        return demo_page_tokens.value;\n      }\n    );\n\n    const total_records = computed(\n      (): Number => {\n        return props.user_tokens\n          ? store.getters.tokens.length\n          : filtered_token_metas.value.length;\n      }\n    );\n\n    watch(\n      page_token_metas,\n      async v => {\n        console.log(\"PAGE TOKEN METAS\", v);\n        demo_page_tokens.value = await loadAndConvertTokenMeta(v);\n      },\n      { immediate: true, deep: true }\n    );\n\n    const selectToken = (asset_contract_address: string, token_id: string) => {\n      if (\n        asset_contract_address == props.selected_asset_contract_address &&\n        token_id == props.selected_token_id\n      ) {\n        emit(\"update:selected_token_id\", \"\");\n        emit(\"update:selected_asset_contract_address\", \"\");\n      } else {\n        emit(\"update:selected_token_id\", token_id);\n        emit(\"update:selected_asset_contract_address\", asset_contract_address);\n      }\n    };\n    const togglePlaylistToken = (token: OpenseaToken, toggle: boolean) => {\n      let new_playlist: Array<TokenIDPair> = [];\n      if (props.playlist_tokens) {\n        new_playlist = JSON.parse(JSON.stringify(props.playlist_tokens));\n      }\n\n      if (toggle) {\n        new_playlist.push({\n          token_id: token.token_id,\n          asset_contract_address: token.asset_contract.address\n        });\n      } else {\n        new_playlist = new_playlist.filter(\n          t =>\n            t.token_id != token.token_id &&\n            t.asset_contract_address != token.asset_contract.address\n        );\n      }\n      emit(\"update:playlist_tokens\", new_playlist);\n    };\n\n    return {\n      selectToken,\n      store,\n      togglePlaylistToken,\n      page_tokens,\n      total_records,\n      limit,\n      offset,\n      user_page_tokens,\n      tag_filter,\n      tag_filter_options\n    };\n  }\n});\n","import { render } from \"./TokenList.vue?vue&type=template&id=7920227e&ts=true\"\nimport script from \"./TokenList.vue?vue&type=script&lang=ts\"\nexport * from \"./TokenList.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent, ref, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { Display, FirestoreDocument, Account } from \"../../types/types\";\nimport DisplayItem from \"../Controller/DisplayItem.vue\";\nimport { getDisplayByDisplayID, updateDisplay } from \"../../api/display\";\nimport { updateAccount } from \"../../api/account\";\nimport TokenList from \"./TokenList.vue\";\n\nexport default defineComponent({\n  components: { DisplayItem, TokenList },\n  props: {\n    createDisplay: {\n      type: Function,\n      required: true\n    },\n    display_id: {\n      type: String,\n      required: false\n    }\n  },\n  setup(props, { emit }) {\n    const display = ref<FirestoreDocument<Display>>({\n      id: \"\",\n      entity: { name: \"\" } as Display\n    });\n    const store = useStore();\n\n    const handleSave = async () => {\n      //props.createDisplay(props.account_id, name.value);\n      await updateDisplay(display.value);\n      emit(\"update:display_id\", null);\n    };\n    const forgetDisplay = async () => {\n      display.value.entity.account_id = \"\";\n      display.value.entity.token_id = \"\";\n      display.value.entity.asset_contract_address = \"\";\n      await updateDisplay(display.value);\n      emit(\"update:display_id\", null);\n    };\n\n    const shareAndRemember = async () => {\n      const account: FirestoreDocument<Account> = store.getters.account;\n      if (\n        props.display_id &&\n        !account.entity.saved_display_ids.includes(props.display_id)\n      ) {\n        account.entity.saved_display_ids.push(props.display_id);\n        await updateAccount(account);\n      }\n\n      display.value.entity.account_id = \"\";\n      display.value.entity.token_id = \"\";\n      display.value.entity.asset_contract_address = \"\";\n      await updateDisplay(display.value);\n      emit(\"update:display_id\", null);\n    };\n\n    const openDisplayInBrowser = async () => {\n      window.open(\n        `${window.location.origin}${window.location.pathname}/#/display?display_id=${props.display_id}`\n      );\n    };\n\n    watch(\n      props,\n      () => {\n        if (props.display_id) {\n          getDisplayByDisplayID(props.display_id).then(ret_display => {\n            display.value = ret_display;\n          });\n        } else {\n          display.value = { id: \"\", entity: { name: \"\" } as Display };\n        }\n      },\n      { immediate: true }\n    );\n\n    /*  const selected_token_id_pair = computed(\n      (): TokenIDPair => {\n        return {\n          token_id: display.value.entity.token_id,\n          asset_contract_address: display.value.entity.asset_contract_address\n        };\n      }\n    ); */\n    /* const demo_token_playlist = computed({\n      get(): boolean {\n        if (!display.value.entity.playlist_tokens) {\n          return false;\n        }\n        return display.value.entity.playlist_tokens.length > 0;\n      },\n      set(v): void {\n        if (v) {\n          display.value.entity.playlist_tokens = store.getters.demo_tokens.map(\n            (t: OpenseaToken) => ({\n              asset_contract_address: t?.asset_contract?.address,\n              token_id: t.token_id\n            })\n          );\n        } else {\n          display.value.entity.playlist_tokens = [];\n        }\n      }\n    }); */\n\n    /* watch(selected_token_id_pair, id_pair => {\n      if (!id_pair) {\n        display.value.entity.asset_contract_address = \"\";\n        return;\n      }\n      const token = store.getters.demo_token_meta(id_pair.asset_contract_address, id_pair.token_id);\n      // token may be null the display is set to the token the user does not have\n      if (!token) {\n        console.log(\"TOKEN NOT FOUND FOR token_id = \", id_pair);\n        return;\n      }\n      display.value.entity.asset_contract_address =\n        token.asset_contract.address;\n    }); */\n\n    return {\n      handleSave,\n      forgetDisplay,\n      shareAndRemember,\n      display,\n      openDisplayInBrowser\n      //demo_token_playlist\n    };\n  }\n});\n","import { render } from \"./EditDisplayDialog.vue?vue&type=template&id=47c6f7a6&scoped=true&ts=true\"\nimport script from \"./EditDisplayDialog.vue?vue&type=script&lang=ts\"\nexport * from \"./EditDisplayDialog.vue?vue&type=script&lang=ts\"\n\nimport \"./EditDisplayDialog.vue?vue&type=style&index=0&id=47c6f7a6&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47c6f7a6\"]])\n\nexport default __exports__","\nimport { defineComponent, watch, ref } from \"vue\";\nimport displayManagement from \"@/composables/displayManagement\";\nimport EditDisplayDialog from \"@/components/Controller/EditDisplayDialog.vue\";\nimport DisplayItem from \"@/components/Controller/DisplayItem.vue\";\nimport { useStore } from \"vuex\";\n\nexport default defineComponent({\n  props: {\n    account_id: String,\n  },\n  components: { EditDisplayDialog, DisplayItem },\n  /* if (account.value) {\n        await loadDisplays(account.value.id);\n      } else {\n        alert(\"Tried to load displays but had no account\");\n      } */\n\n  setup(props) {\n    const store = useStore();\n    const edit_display_id = ref<String | null>(null);\n    \n    const { displays, displays_loaded, loadDisplays, createDisplay } =\n      displayManagement();\n\n    watch(\n      () => props.account_id,\n      async (account_id) => {\n        if (account_id) {\n          await loadDisplays(account_id);\n        } else {\n          alert(\"Tried to load displays but had no account\");\n        }\n      }\n    );\n\n    const editDisplay = (display_id: string) => {\n      edit_display_id.value = display_id;\n    };\n\n    \n\n    return {\n      createDisplay,\n      displays,\n      displays_loaded,\n      editDisplay,\n      edit_display_id,\n      store\n    };\n  },\n});\n","import { render } from \"./DisplayController.vue?vue&type=template&id=1f55767c&scoped=true&ts=true\"\nimport script from \"./DisplayController.vue?vue&type=script&lang=ts\"\nexport * from \"./DisplayController.vue?vue&type=script&lang=ts\"\n\nimport \"./DisplayController.vue?vue&type=style&index=0&id=1f55767c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f55767c\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"text-align\":\"right\",\"background-color\":\"#000000\",\"width\":\"100%\",\"height\":\"100%\",\"position\":\"fixed\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_loading = _resolveComponent(\"loading\")!\n  const _component_qrcode_stream = _resolveComponent(\"qrcode-stream\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_Button, {\n      label: \"Cancel scanning\",\n      icon: \"pi pi-ban\",\n      class: \"p-m-3\",\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.store.commit('setCameraScanMode', false)))\n    }),\n    _createVNode(_component_loading, {\n      active: _ctx.camera_loading,\n      opacity: 0,\n      color: \"#FFFFFF\"\n    }, null, 8, [\"active\"]),\n    _createElementVNode(\"div\", null, [\n      _createVNode(_component_qrcode_stream, {\n        style: {\"width\":\"100%\"},\n        onDecode: _ctx.onDecode,\n        onInit: _ctx.onInit\n      }, null, 8, [\"onDecode\", \"onInit\"])\n    ])\n  ]))\n}","\nimport { defineComponent, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { QrcodeStream } from \"vue-qrcode-reader\";\nimport { addAccountToDisplay } from \"@/api/display\";\nimport Loading from \"vue-loading-overlay\";\n\nexport default defineComponent({\n  components: { QrcodeStream, Loading },\n  props: { account_id: String },\n  setup(props) {\n    const store = useStore();\n    const camera_loading = ref(false);\n    const onDecode = async (qr_code_link: string) => {\n      const display_id_index = qr_code_link.indexOf(\"display_id=\");\n      if (display_id_index > -1) {\n        const display_id = qr_code_link.slice(display_id_index + 11);\n        await addAccountToDisplay(display_id, props.account_id || \"\");\n      }\n      store.commit(\"setCameraScanMode\", false);\n    };\n\n    const onInit = async (promise: Promise<any>) => {\n      camera_loading.value = true;\n\n      try {\n        await promise;\n        // successfully initialized\n      } catch (error: any) {\n        if (error.name === \"NotAllowedError\") {\n          // user denied camera access permisson\n        } else if (error.name === \"NotFoundError\") {\n          // no suitable camera device installed\n        } else if (error.name === \"NotSupportedError\") {\n          // page is not served over HTTPS (or localhost)\n        } else if (error.name === \"NotReadableError\") {\n          // maybe camera is already in use\n        } else if (error.name === \"OverconstrainedError\") {\n          // did you requested the front camera although there is none?\n        } else if (error.name === \"StreamApiNotSupportedError\") {\n          // browser seems to be lacking features\n        }\n      } finally {\n        camera_loading.value = false;\n      }\n    };\n\n    return { store, onDecode, onInit, camera_loading };\n  },\n});\n","import { render } from \"./QrScan.vue?vue&type=template&id=3f098df4&ts=true\"\nimport script from \"./QrScan.vue?vue&type=script&lang=ts\"\nexport * from \"./QrScan.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\nimport { defineComponent } from \"vue\";\nimport { ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport web3Interface from \"@/composables/web3Interface\";\nimport accountManagement from \"@/composables/accountManagement\";\nimport DisplayController from \"@/components/Controller/DisplayController.vue\";\nimport { getDisplayByDisplayID, updateDisplay } from \"@/api/display\";\nimport QrScan from \"@/components/Controller/QrScan.vue\"\n\nexport default defineComponent({\n  components: { DisplayController, QrScan },\n  props: { display_id: String },\n  setup(props) {\n    const store = useStore();\n    // set refs\n    const loading_account = ref(false);\n    // load composables\n    const { connectWallet, setupWeb3Modal, signature, address, web3_modal } =\n      web3Interface();\n    const { account, tokens, loadAccount, loadTokens } = accountManagement();\n    // connect to web3 wallet, and setup firebase account details\n    const connectAccount = async () => {\n      loading_account.value = true;\n      await setupWeb3Modal();\n\n      await connectWallet();\n      // signature and account should now be set properly\n\n      await loadAccount(address.value, signature.value);\n\n      // add display if connected\n      if (props.display_id) {\n        const display = await getDisplayByDisplayID(props.display_id);\n        display.entity.account_id = account.value?.id || \"\";\n        await updateDisplay(display);\n      }\n\n      await loadTokens(address.value);\n\n      loading_account.value = false;\n    };\n    connectAccount();\n\n    //getAccountInfo(address, signature);\n    return {\n      connectAccount,\n      account,\n      web3_modal,\n      signature,\n      loading_account,\n      tokens,\n      store,\n    };\n  },\n});\n","import { render } from \"./Controller.vue?vue&type=template&id=8498177e&scoped=true&ts=true\"\nimport script from \"./Controller.vue?vue&type=script&lang=ts\"\nexport * from \"./Controller.vue?vue&type=script&lang=ts\"\n\nimport \"./Controller.vue?vue&type=style&index=0&id=8498177e&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8498177e\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, Fragment as _Fragment, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-299eb34d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"video-container\"\n}\nconst _hoisted_2 = [\"loop\", \"src\"]\nconst _hoisted_3 = {\n  key: 0,\n  class: \"center\",\n  style: {\"font-size\":\"40px\"}\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"center\",\n  style: {\"font-size\":\"40px\"}\n}\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"margin-top\":\"40px\"} }, \"Scan to cast NFTs\", -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_loading = _resolveComponent(\"loading\")!\n  const _component_qrcode_vue = _resolveComponent(\"qrcode-vue\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_ctx.loading)\n      ? (_openBlock(), _createBlock(_component_loading, {\n          key: 0,\n          active: true\n        }))\n      : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n          (_ctx.token)\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                (_ctx.media_is_video)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                      _createElementVNode(\"video\", {\n                        class: _normalizeClass([_ctx.show_video ? 'show-opacity' : 'hide-opacity', \"center\"]),\n                        ref: \"player\",\n                        autoplay: \"\",\n                        muted: \"\",\n                        loop: _ctx.video_should_loop,\n                        src: _ctx.media_url\n                      }, null, 10, _hoisted_2)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ], 64))\n            : _createCommentVNode(\"\", true),\n          (!_ctx.loading && !_ctx.token)\n            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                (_ctx.display?.entity?.account_id)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"Connected - No token selected\"))\n                  : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                      _createVNode(_component_qrcode_vue, {\n                        value: _ctx.display_controller_url,\n                        size: 300,\n                        level: 'H'\n                      }, null, 8, [\"value\"]),\n                      _hoisted_5\n                    ]))\n              ], 64))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n  ]))\n}","\nconst local_file_base_url = \"http://localhost:8081/media/\"\n\nexport const getLocalFileURL = (file_name: string): string => {\n    return `${local_file_base_url}${file_name}`\n}\n\n// findLocalFile returns the filename of a local media file if it exists, otherwise returns an empty string\nexport const findLocalFile = async (token_id: string): Promise<string> => {\n    const extensions = [\".mp4\", \".jpg\"]\n\n    for (const e of extensions) {\n        try {\n            const file_name = token_id + e;\n            const res = await fetch(getLocalFileURL(file_name))\n            if (res.status < 400) {\n                return file_name;\n            }\n        } catch (err) {\n            // do nothing\n        }\n    }\n\n    return \"\"\n}","\nimport { ref, computed, watch } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport {\n  convertTokenMetaToOpensea,\n  loadDemoTokenMeta,\n  loadToken\n} from \"@/api/token\";\nimport { getLocalFileURL, findLocalFile } from \"@/api/local-files\";\nimport {\n  FirestoreDocument,\n  Display,\n  OpenseaToken,\n  TokenMeta\n} from \"@/types/types\";\nimport {\n  createDisplayWithListener,\n  getDisplayByDisplayIDWithListener,\n  updateDisplay\n} from \"@/api/display\";\n\nimport QrcodeVue from \"qrcode.vue\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\nimport VueViewer, { api as viewerApi, Viewer } from \"v-viewer\";\nVueViewer.setDefaults({\n  zIndex: 2021\n});\n\nexport default defineComponent({\n  props: {\n    display_id: String\n  },\n  components: {\n    QrcodeVue,\n    Loading\n  },\n  setup(props) {\n    const router = useRouter();\n    const display = ref<FirestoreDocument<Display> | null>();\n    const token = ref<OpenseaToken | null>();\n    const token_meta = ref<FirestoreDocument<TokenMeta> | null>();\n    const loading = ref(true);\n    const show_video = ref(false);\n    const viewer = ref<Viewer>();\n    const local_file = ref<string>();\n    const player = ref<HTMLVideoElement>();\n    const playlist_timer = ref<ReturnType<typeof setTimeout>>();\n\n    /* START COMPUTED */\n    // media_is_video determines if token media is video (true) or an image/gif (false)\n    const media_is_video = computed((): boolean => {\n      const is_opensea_video = !!token.value?.animation_url &&\n        !token.value.animation_url.endsWith(\".wav\")\n      const is_alt_video = !!token_meta?.value && !!local_file.value?.endsWith(\".mp4\")\n      return is_opensea_video || is_alt_video;\n    });\n\n    // display_controller_url returns the url for the qrcode, which allows people to scan the display with their mobile phone and control it with the controller webapp\n    const display_controller_url = computed((): string => {\n      if (display.value) {\n        return `https://jkurtz678.github.io/nft-viewer/${document.location.pathname}#/controller?display_id=${display.value.id}`;\n      }\n      return \"\";\n    });\n\n    // media_url decides which url should be used for the media display\n    const media_url = computed((): string | null => {\n      if (local_file.value && token.value?.token_id) {\n        return getLocalFileURL(local_file.value);\n      }\n      if (media_is_video.value && token.value) {\n        return token.value.animation_url;\n      }\n      if (token.value?.image_url) {\n        return token.value.image_url;\n      }\n      return null;\n    });\n\n    // video_should_loop will be true by default, false if any playlist tokens exist\n    const video_should_loop = computed((): boolean => {\n      const playlist_tokens = display.value?.entity?.playlist_tokens;\n      return playlist_tokens == null || playlist_tokens.length == 0 || playlist_timer.value != null;\n    });\n    /* END COMPUTED */\n\n    /* START WATCHERS */\n    // wait until html player loads to add the video ended event listener\n    watch(player, v => {\n      if (v) {\n        /* player.value?.removeEventListener(\"ended\", nextPlaylistToken); // remove any existing listener if it exists\n        player.value?.addEventListener(\"ended\", nextPlaylistToken); */\n      }\n    });\n    /* END WATCHERS */\n\n    /* START METHODS */\n    // initDisplay will handle changes made to the data of a display, showing/hiding media\n    const initDisplay = async (d: FirestoreDocument<Display>) => {\n      console.log(\"initDisplay\", d);\n      show_video.value = false; // tells display to start fade out\n      window.localStorage.setItem(\"nft_video_loaded\", \"false\"); // use local storage to tell the plaque to fade out text\n      if (playlist_timer.value) {\n        clearTimeout(playlist_timer.value);\n      }\n      await new Promise(r => setTimeout(r, 800)); // wait so previous video has time to fade out\n\n      router.push({ path: \"/display\", query: { display_id: d.id } });\n      display.value = d;\n      window.localStorage.setItem(\"nft_display_id\", d.id);\n\n      // to load a token, we need both the token id and the contract address. if the display is missing one of these, clear out the token from display\n      if (!d.entity.token_id || !d.entity.asset_contract_address) {\n        token.value = null;\n        local_file.value = \"\";\n        if (viewer.value) {\n          viewer.value.hide();\n        }\n        loading.value = false;\n        return;\n      }\n\n      // now its safe to load and show the token media\n      showToken(d.entity.asset_contract_address, d.entity.token_id);\n    };\n\n    // showToken will load a token from opensea and display its associated media. Different behaviors for videos and images/gifs\n    const showToken = async (contract_address: string, token_id: string) => {\n      try {\n        token_meta.value = await loadDemoTokenMeta(contract_address, token_id);\n        console.log(\"loadDemoTokenMeta\", token_meta.value);\n      } catch {\n        console.log(\"No token meta found\");\n        token_meta.value = null;\n      }\n      let token_resp: OpenseaToken;\n      if (!token_meta.value || token_meta.value.entity.platform == \"opensea\") {\n        token_resp = await loadToken(contract_address, token_id);\n      } else {\n        token_resp = convertTokenMetaToOpensea(token_meta.value);\n      }\n      token.value = token_resp;\n      console.log(\"tokenValue\", token.value);\n\n      try {\n        local_file.value = await findLocalFile(token.value.token_id);\n      } catch (err) {\n        local_file.value = \"\";\n        console.log(err);\n      }\n\n      // if token has no video media, display the image using viewer\n      if (media_is_video.value) {\n        if (viewer.value) {\n          viewer.value.hide();\n        }\n        waitToShowVideo();\n      } else {\n        if (media_url.value) {\n          displayImage(media_url.value);\n          playlist_timer.value = setTimeout(() => {\n            nextPlaylistToken();\n          }, 1000 * 45);\n        }\n      }\n      loading.value = false;\n    };\n\n    // waitToShowVideo waits until video has started playing before fading it in\n    const waitToShowVideo = () => {\n      const checkInterval = 50.0; // check every 50 ms to see if video has started playing\n      let current_play_pos = 0;\n\n      const interval = setInterval(checkBuffering, checkInterval);\n      function checkBuffering() {\n        if (!player.value) {\n          console.log(\"ERROR: Display video player not found.\");\n          return;\n        }\n\n        current_play_pos = player.value.currentTime;\n        if (current_play_pos > 0) {\n          clearInterval(interval);\n          show_video.value = true;\n          window.localStorage.setItem(\"nft_video_loaded\", \"true\");\n\n          // handle playlist cycling\n          player.value?.removeEventListener(\"ended\", nextPlaylistToken); // remove any existing listener if it exists\n          console.log(\"video duration: \", player.value.duration)\n          if (player.value.duration && player.value.duration < 15) {\n            playlist_timer.value = setTimeout(() => {\n              nextPlaylistToken();\n            }, 1000 * 45);\n          } else {\n            player.value?.addEventListener(\"ended\", nextPlaylistToken);\n          }\n        }\n      }\n    };\n\n    const displayImage = (image_url: string) => {\n      console.log(\"displayImage\", image_url);\n      viewer.value = viewerApi({\n        images: [image_url],\n        options: {\n          inline: false,\n          button: false,\n          navbar: false,\n          title: false,\n          toolbar: false,\n          tooltip: false,\n          movable: false,\n          zoomable: false,\n          rotatable: false,\n          scalable: true,\n          transition: true,\n          fullscreen: true,\n          keyboard: false\n        }\n      });\n      window.localStorage.setItem(\"nft_video_loaded\", \"true\");\n    };\n\n    // nextPlaylistToken will update the display to the next token in the playlist\n    const nextPlaylistToken = () => {\n      console.log(\"nextPlaylistToken\")\n      if (!display.value?.entity?.playlist_tokens?.length) {\n        return;\n      }\n      // find new index of next playlist item\n      let new_index =\n        display.value.entity.playlist_tokens.findIndex(\n          t => t.token_id == token.value?.token_id\n        ) + 1;\n      if (\n        new_index == -1 ||\n        new_index >= display.value.entity.playlist_tokens.length\n      ) {\n        new_index = 0;\n      }\n\n      display.value.entity.token_id =\n        display.value.entity.playlist_tokens[new_index].token_id;\n      display.value.entity.asset_contract_address =\n        display.value.entity.playlist_tokens[new_index].asset_contract_address;\n\n      updateDisplay(display.value);\n    };\n    /* END METHODS */\n\n    if (props.display_id) {\n      getDisplayByDisplayIDWithListener(props.display_id, initDisplay);\n    } else {\n      const nft_display_id = localStorage.getItem(\"nft_display_id\");\n      if (nft_display_id) {\n        getDisplayByDisplayIDWithListener(nft_display_id, initDisplay);\n      } else {\n        createDisplayWithListener(\"\", \"\", \"\", initDisplay);\n      }\n    }\n\n    return {\n      display,\n      loading,\n      show_video,\n      display_controller_url,\n      token,\n      media_url,\n      player,\n      video_should_loop,\n      local_file,\n      media_is_video\n    };\n  }\n});\n","import { render } from \"./Display.vue?vue&type=template&id=299eb34d&scoped=true&ts=true\"\nimport script from \"./Display.vue?vue&type=script&lang=ts\"\nexport * from \"./Display.vue?vue&type=script&lang=ts\"\n\nimport \"./Display.vue?vue&type=style&index=0&id=299eb34d&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-299eb34d\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-232405ed\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"center\",\n  style: {\"font-size\":\"40px\"}\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"center\",\n  style: {\"font-size\":\"40px\"}\n}\nconst _hoisted_3 = {\n  key: 2,\n  class: \"center p-px-6\",\n  style: {\"text-align\":\"left\",\"width\":\"100%\"}\n}\nconst _hoisted_4 = { style: {\"max-width\":\"800px\",\"margin-left\":\"auto\",\"margin-right\":\"auto\"} }\nconst _hoisted_5 = { style: {\"font-size\":\"40px\"} }\nconst _hoisted_6 = { class: \"p-grid\" }\nconst _hoisted_7 = {\n  class: \"p-col\",\n  style: {\"min-width\":\"350px\"}\n}\nconst _hoisted_8 = { style: {\"margin-bottom\":\"8px\"} }\nconst _hoisted_9 = {\n  key: 0,\n  style: {\"margin-bottom\":\"8px\"}\n}\nconst _hoisted_10 = {\n  class: \"p-col\",\n  style: {\"text-align\":\"center\"}\n}\nconst _hoisted_11 = { style: {\"font-size\":\"20px\"} }\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"View on OpenSea\")\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"View online\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_loading = _resolveComponent(\"loading\")!\n  const _component_qrcode_vue = _resolveComponent(\"qrcode-vue\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    style: _normalizeStyle([{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"fixed\"}, _ctx.dark_mode ? 'background-color: #000000; color: #FFFFFF' : null])\n  }, [\n    (_ctx.loading)\n      ? (_openBlock(), _createBlock(_component_loading, {\n          key: 0,\n          active: \"\"\n        }))\n      : (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          style: {\"transition\":\"opacity ease-in 0.8s\"},\n          class: _normalizeClass(_ctx.show_text ? 'show-opacity' : 'hide-opacity')\n        }, [\n          (!_ctx.display)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"No display found\"))\n            : (_ctx.display && !_ctx.display.entity.token_id)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"No media loaded\"))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                  _createElementVNode(\"div\", _hoisted_4, [\n                    _createElementVNode(\"div\", _hoisted_5, _toDisplayString(_ctx.token?.name), 1),\n                    _createElementVNode(\"div\", _hoisted_6, [\n                      _createElementVNode(\"div\", _hoisted_7, [\n                        _createElementVNode(\"div\", _hoisted_8, _toDisplayString(_ctx.token?.creator?.user?.username), 1),\n                        (_ctx.top_bid)\n                          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(_ctx.top_bid), 1))\n                          : _createCommentVNode(\"\", true),\n                        _createElementVNode(\"div\", null, _toDisplayString(_ctx.token?.description), 1)\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_10, [\n                        _createVNode(_component_qrcode_vue, {\n                          value: _ctx.token?.permalink,\n                          size: 200,\n                          level: 'M'\n                        }, null, 8, [\"value\"]),\n                        _createElementVNode(\"div\", _hoisted_11, [\n                          (!_ctx.token_meta || _ctx.token_meta.entity.platform == 'opensea')\n                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                _hoisted_12\n                              ], 64))\n                            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                _hoisted_13\n                              ], 64))\n                        ])\n                      ])\n                    ])\n                  ])\n                ]))\n        ], 2))\n  ], 4))\n}","\nimport { defineComponent, ref, watch, computed, onMounted } from \"vue\";\nimport {\n  loadToken,\n  loadDemoTokenMeta,\n  convertTokenMetaToOpensea\n} from \"@/api/token\";\nimport {\n  FirestoreDocument,\n  Display,\n  OpenseaToken,\n  TokenMeta\n} from \"@/types/types\";\nimport Loading from \"vue-loading-overlay\";\nimport QrcodeVue from \"qrcode.vue\";\nimport { getDisplayByDisplayIDWithListener } from \"@/api/display\";\n\nexport default defineComponent({\n  props: {\n    display_id: String\n  },\n  components: {\n    QrcodeVue,\n    Loading\n  },\n  setup() {\n    const display = ref<FirestoreDocument<Display> | null>();\n    const token = ref<OpenseaToken | null>();\n    const token_meta = ref<FirestoreDocument<TokenMeta> | null>();\n    const loading = ref(false);\n    const display_id = ref(window.localStorage.getItem(\"nft_display_id\"));\n    const show_text = ref(false);\n\n    onMounted(() => {\n      if (display_id.value) {\n        show_text.value = true;\n      }\n    });\n\n    const initDisplay = async (d: FirestoreDocument<Display>) => {\n      show_text.value = false;\n      await new Promise(r => setTimeout(r, 800));\n\n      display.value = d;\n      if (d.entity.token_id && d.entity.asset_contract_address) {\n        await getPlaqueData(d.entity.asset_contract_address, d.entity.token_id);\n      }\n      loading.value = false;\n    };\n\n    const getPlaqueData = async (address: string, token_id: string) => {\n      try {\n        token_meta.value = await loadDemoTokenMeta(address, token_id);\n      } catch {\n        console.log(\"No token meta found\");\n        token_meta.value = null;\n      }\n      let token_resp: OpenseaToken;\n      if (!token_meta.value || token_meta.value.entity.platform == \"opensea\") {\n        token_resp = await loadToken(address, token_id);\n      } else {\n        token_resp = convertTokenMetaToOpensea(token_meta.value);\n      }\n      token.value = token_resp;\n    };\n\n    const dark_mode = computed(() => {\n      return display?.value?.entity.plaque_dark_mode;\n    });\n\n    const top_bid = computed(() => {\n      const orders = token?.value?.orders;\n      if (orders == null || orders?.length == 0) {\n        return \"\";\n      }\n      let highest_order = orders[0];\n      orders.forEach(o => {\n        if (o.base_price > highest_order.base_price) {\n          highest_order = o;\n        }\n      });\n      //highest_order = orders[orders.length - 1];\n      const bid =\n        highest_order.base_price /\n        Math.pow(10, highest_order.payment_token_contract.decimals);\n\n      return `Top bid: ${bid.toFixed(3)} ${\n        highest_order.payment_token_contract.symbol\n      }`;\n    });\n\n    watch(\n      () => display_id.value,\n      async () => {\n        loading.value = true;\n        if (display_id.value) {\n          getDisplayByDisplayIDWithListener(display_id.value, initDisplay);\n        } else {\n          display.value = null;\n          loading.value = false;\n        }\n      },\n      { immediate: true }\n    );\n\n    window.addEventListener(\"storage\", () => {\n      display_id.value = window.localStorage.getItem(\"nft_display_id\");\n      show_text.value =\n        window.localStorage.getItem(\"nft_video_loaded\") == \"true\";\n    });\n    return {\n      loading,\n      token,\n      display,\n      dark_mode,\n      show_text,\n      top_bid,\n      token_meta\n    };\n  }\n});\n","import { render } from \"./Plaque.vue?vue&type=template&id=232405ed&scoped=true&ts=true\"\nimport script from \"./Plaque.vue?vue&type=script&lang=ts\"\nexport * from \"./Plaque.vue?vue&type=script&lang=ts\"\n\nimport \"./Plaque.vue?vue&type=style&index=0&id=232405ed&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jacksonkurtz/Code/nft-viewer/frontend/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-232405ed\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from \"vue-router\"\nimport Controller from \"./components/Controller/Controller.vue\"\n//import EditDisplayDialog from \"./components/Controller/EditDisplayDialog.vue\"\nimport Display from \"./components/Display/Display.vue\"\nimport Plaque from \"./components/Plaque/Plaque.vue\"\n\nconst routes = [\n    { path: '/controller', name: \"Controller\", component: Controller, props: route => ({display_id: route.query.display_id}) },\n    { path: '/display', name: \"Display\", component: Display, props: route => ({ display_id: route.query.display_id }) },\n    { path: '/plaque', name: \"Plaque\", component: Plaque },\n    { path: '/', redirect: \"/controller\"}\n]\n\nconst router = createRouter({\n    history: createWebHashHistory(),\n    routes,\n})\n\nexport default router;","import { createStore } from \"vuex\"\n\nconst store = createStore({\n    state: {\n        address: \"\",\n        account: {},\n        tokens: [],\n        demo_tokens: [],\n        demo_token_metas: [],\n        camera_scan_mode: false,\n    },\n    getters: {\n        address: state => {\n            return state.address;\n        },\n        account: state => {\n            return state.account;\n        },\n        demo_token_metas: state => {\n            return state.demo_token_metas\n        },\n        demo_token_meta: state => (asset_contract_address, token_id) =>  {\n            return state.demo_token_metas.find(t => t.entity.asset_contract_address == asset_contract_address && t.entity.token_id == token_id)\n        },\n        tokens: state => {\n            return state.tokens;\n        },\n        token: state => token_id => {\n            const token = state.tokens.find(t => t.token_id === token_id);\n            if(token){\n                return token;\n            } else {\n                return state.demo_tokens.find(t => t.token_id === token_id);\n            }\n        },\n        demo_tokens: state => {\n            return state.demo_tokens; \n        },\n        camera_scan_mode: state => {\n            return state.camera_scan_mode;\n        }\n    },\n    mutations: {\n        setAddress(state, address) {\n            state.address = address;\n        },\n        setAccount(state, account) {\n            state.account = account;\n        },\n        setTokens(state, tokens) {\n            state.tokens = tokens;\n        },\n        setDemoTokens(state, tokens) {\n            state.demo_tokens = tokens;\n        },\n        setDemoTokenMetas(state, token_metas) {\n            state.demo_token_metas = token_metas\n        }, \n        setCameraScanMode(state, show) {\n            state.camera_scan_mode = show;\n        }\n    }\n})\n\nexport default store","import { createApp } from 'vue';\nimport App from './App.vue'\nimport router from \"./router\"\nimport PrimeVue from \"primevue/config\"\nimport Button from \"primevue/button\"\nimport Card from \"primevue/card\"\nimport Dialog from \"primevue/dialog\"\nimport InputText from \"primevue/inputtext\"\nimport Chip from \"primevue/chip\"\nimport InputSwitch from 'primevue/inputswitch';\nimport TabView from \"primevue/tabview\";\nimport TabPanel from \"primevue/tabpanel\";\nimport Dropdown from 'primevue/dropdown';\nimport Paginator from \"primevue/paginator\"\n\nimport store from \"./store\"\n\nimport 'primevue/resources/themes/bootstrap4-light-blue/theme.css'       //theme\nimport 'primevue/resources/primevue.min.css'                 //core css\nimport 'primeicons/primeicons.css'                           //icons\n\nimport 'primeflex/primeflex.css';\nimport 'viewerjs/dist/viewer.css'\nimport VueViewer from 'v-viewer'\n\nconst app = createApp(App)\napp.use(store)\napp.use(router)\napp.use(PrimeVue)\napp.use(VueViewer)\napp.component('Button', Button)\napp.component('Dropdown', Dropdown)\napp.component('TabPanel', TabPanel)\napp.component('TabView', TabView)\napp.component('InputSwitch', InputSwitch)\napp.component('Card', Card)\napp.component('Dialog', Dialog)\napp.component('InputText', InputText)\napp.component('Chip', Chip)\napp.component('Paginator', Paginator)\napp.mount('#app')\n"],"sourceRoot":""}